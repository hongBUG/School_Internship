package cn.tentact.nebula.test

import org.springframework.web.bind.annotation.RestController
import org.springframework.web.bind.annotation.RequestMapping
import org.springframework.beans.factory.annotation.Autowired
import org.springframework.data.mongodb.core.MongoTemplate
import org.springframework.data.mongodb.core.query.Query
import org.springframework.data.mongodb.core.query.Criteria
import java.util.Map

@RestController
@RequestMapping("/test")
class TestController {
	@Autowired
	MongoTemplate mongoTemplate;
	
	@RequestMapping("/sayHello")
	def sayHello() {
		return #{"result" -> "HelloWorld"}
	}
	
	@RequestMapping("/aaa")
	def aaa(){
		var query = new Query();  
        //query.addCriteria(Criteria.where("id").is(123));  
        var list=mongoTemplate.find(query,Company);       
        println(list)
		return #{"result"->"OK"}
	}
}
